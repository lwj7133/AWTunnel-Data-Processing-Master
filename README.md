# NACA0012翼型风洞实验数据处理

## 1. 初始条件输入

用户需要输入以下初始条件：

- 来流速度 V∞ (m/s)
- 大气压力 p_atm (Pa)
- 环境温度 T (K)
- 翼型弦长 c (m)
- 重力加速度 g (m/s²)
- 攻角 α (度)

## 2. 空气参数计算

### 2.1 空气密度

使用理想气体状态方程计算空气密度：

ρ = p_atm / (R * T)

其中：
- R = 287 J/(kg·K) 是空气的气体常数
- T 是环境温度，单位为开尔文(K)

### 2.2 动力粘度

使用萨瑟兰-Sutherland公式计算动力粘度：

μ = μ0 * (T/T0)^(3/2) * (T0 + S) / (T + S)

其中：
- μ0 = 1.716e-5 kg/(m·s) 是参考粘度
- T0 = 273.15 K 是参考温度
- S = 110.4 K 是萨瑟兰常数

### 2.3 运动粘度

计算运动粘度：

ν = μ / ρ

其中：
- μ 是动力粘度，单位为 kg/(m·s)
- ρ 是空气密度，单位为 kg/m³

### 2.4 雷诺数

计算雷诺数：

Re = (V∞ * c) / ν

其中：
- Re 是无量纲的雷诺数
- V∞ 是来流速度，单位为 m/s
- c 是翼型弦长，单位为 m
- ν 是空气的运动粘度，单位为 m²/s

### 2.5 声速

计算声速：

a = √(γ * R * T)

其中：
- a 是声速，单位为 m/s
- γ = 1.4 是空气的比热比（无量纲）
- R = 287 J/(kg·K) 是空气的气体常数
- T 是环境温度，单位为开尔文(K)
### 2.6 马赫数

计算马赫数：

Ma = V∞ / a

其中：
- Ma 是无量纲的马赫数
- V∞ 是来流速度，单位为 m/s
- a 是声速，单位为 m/s

马赫数反映了流体速度与声速的比值，对于亚音速风洞实验，通常 Ma < 0.3。

## 3. 水位高度差数据处理

用户需要输入33个水位高度差数据点（单位：厘米），这些数据点分布如下：
- 前缘点（1个）
- 上表面（16个）：从前缘到后缘均匀分布的16个测量点
- 下表面（16个）：从前缘到后缘均匀分布的16个测量点

这些数据点反映了翼型表面的压力分布情况。

## 4. 压强计算

将水位高度差转换为压强，使用以下公式：

p = p_atm + ρ_water * g * Δh

其中：
- p 是计算得到的翼型表面静压，单位为 Pa
- p_atm 是大气压，单位为 Pa
- ρ_water = 1000 kg/m³ 是水的密度
- g 是重力加速度，单位为 m/s²
- Δh 是水位高度差，单位为 m（注意将厘米转换为米）

这一步将实验中测量的水位高度差转换为实际的翼型表面静压值。

## 5. 压力系数计算

计算压力系数，使用以下公式：

Cp = (p - p_atm) / q∞

其中：
- Cp 是无量纲的压力系数
- p 是计算得到的翼型表面静压，单位为 Pa
- p_atm 是大气压，单位为 Pa
- q∞ = 0.5 * ρ * V∞² 是动压，单位为 Pa

压力系数是一个无量纲参数，反映了局部压力与来流动压的关系。

## 6. 力系数计算

### 6.1 法向力系数 Cn

使用梯形法则积分计算法向力系数：

Cn = ∫(Cp_lower - Cp_upper) d(x/c)

其中：
- Cn 是无量纲的法向力系数
- Cp_lower 是下表面的压力系数
- Cp_upper 是上表面的压力系数
- x/c 是无量纲化的弦长位置

这个积分反映了翼型上下表面压力差对法向力的贡献。

### 6.2 轴向力系数 Ca

首先计算NACA0012翼型表面斜率，然后使用梯形法则积分计算轴向力系数：

#### 6.2.1 计算翼型表面斜率

对于NACA 0012翼型，表面斜率可以通过以下步骤计算：

1. NACA 0012翼型的厚度分布方程为：
   y_t = 0.6 * (0.2969√(x/c) - 0.1260(x/c) - 0.3516(x/c)² + 0.2843(x/c)³ - 0.1015(x/c)⁴)

2. 对厚度分布方程求导，得到斜率方程：
   dy/dx = 0.6 * (0.14845/√(x/c) - 0.1260 - 0.7032(x/c) + 0.8529(x/c)² - 0.4060(x/c)³)

3. 对于给定的x/c位置，代入斜率方程计算得到相应的斜率值。

4. 上表面斜率为正值，下表面斜率为对应的负值。

#### 6.2.2 计算轴向力系数
使用计算得到的斜率，利用梯形法则积分计算轴向力系数：

Ca = ∫(Cp_upper * dy/dx_upper - Cp_lower * dy/dx_lower) d(x/c)

其中：

- Ca 是无量纲的轴向力系数
- Cp_upper 和 Cp_lower 分别是上下表面的压力系数
- dy/dx_upper 和 dy/dx_lower 分别是上下表面的斜率
- x/c 是无量纲化的弦长位置

梯形法则将积分区间分成若干小梯形，通过计算这些小梯形的面积之和来近似整个积分值。这种方法考虑了翼型表面斜率对轴向力的影响，通过结合压力系数和表面几何特性来计算轴向力。

### 6.3 升力系数和阻力系数

根据攻角α，将法向力系数和轴向力系数转换为升力系数和阻力系数：

Cl = Cn * cos(α) - Ca * sin(α)
Cd = Cn * sin(α) + Ca * cos(α)

其中：
- Cl 是无量纲的升力系数
- Cd 是无量纲的阻力系数
- α 是攻角，单位为弧度（注意将度转换为弧度）

## 7. V/V∞ 计算

计算上表面的速度比：

V/V∞ = √(1 - Cp)

其中：
- V 是局部速度，单位为 m/s
- V∞ 是来流速度，单位为 m/s
- Cp 是压力系数

这个公式基于伯努利方程，反映了局部速度与压力系数的关系。

## 8. 图形绘制

### 8.1 Cp-x曲线和压力系数分布矢量图

- 绘制NACA0012翼型轮廓：使用NACA 4位数翼型方程生成翼型坐标
- 在翼型表面绘制压力系数分布矢量：箭头指向翼型内部表示负压，指向外部表示正压
- 绘制Cp-x曲线，包括上表面和下表面：x轴为无量纲化的弦长位置，y轴为压力系数

### 8.2 V/V∞-x曲线

- 绘制上表面的V/V∞-x曲线：x轴为无量纲化的弦长位置，y轴为速度比

这些图形可以直观地展示翼型的气动特性和流场分布。

## 9. 数据导出

将所有计算结果和原始数据导出为CSV文件。

## 结论

通过以上步骤，我们可以从风洞实验的水位高度差数据得到NACA0012翼型的各种空气动力学参数和特性曲线。这个过程涉及流体力学的基本原理、数值积分方法和数据可视化技术。
